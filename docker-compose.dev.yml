x-autogenerated: This file is autogenerated
version: '3'
volumes:
  ui_node_modules: {}
services:
  pg_init_db:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
  ui:
    image: taskcluster/ui
    build:
      context: ./ui
      dockerfile: Dockerfile
    environment:
      TASKCLUSTER_ROOT_URL: http://taskcluster
    command: start:docker
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./generated:/app/generated
      - .all-contributorsrc:/app/.all-contributorsrc
      - ./ui:/app/ui
      - ui_node_modules:/app/ui/node_modules/
  auth-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/auth:/app/services/auth
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/auth services/auth/src/main server"
  built-in-workers-server:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/built-in-workers:/app/services/built-in-workers
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/built-in-workers services/built-in-workers/src/main.js server"
  github-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/github:/app/services/github
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/github services/github/src/main server"
  hooks-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/hooks:/app/services/hooks
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/hooks services/hooks/src/main.js server"
  index-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/index:/app/services/index
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/index services/index/src/main server"
  notify-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/notify:/app/services/notify
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/notify services/notify/src/main server"
  object-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/object:/app/services/object
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/object services/object/src/main.js server"
  purge-cache-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/purge-cache:/app/services/purge-cache
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/purge-cache services/purge-cache/src/main server"
  queue-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/queue:/app/services/queue
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/queue services/queue/src/main server"
  secrets-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/secrets:/app/services/secrets
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/secrets services/secrets/src/main.js server"
  web-server-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/web-server:/app/services/web-server
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/web-server services/web-server/src/main.js server"
  worker-manager-web:
    volumes:
      - ./db:/app/db
      - ./clients:/app/clients
      - ./libraries:/app/libraries
      - ./services/worker-manager:/app/services/worker-manager
    environment:
      LEVEL: info
      DEBUG: taskcluster:*
    command: ''
    entrypoint: /bin/sh -c "npx nodemon --delay 3 --watch services --watch libraries --watch services/worker-manager services/worker-manager/src/main.js server"
